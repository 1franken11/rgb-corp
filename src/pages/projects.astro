---
import MainLayout from '../layouts/MainLayout.astro';

const projects = [
  {
    id: 1,
    title: 'Renovación Residencial',
    category: 'residencial',
    description: 'Instalación completa de pisos de madera en residencia de lujo.',
    image: '/img/projects/residential-1.jpg',
    location: 'Santiago, Chile',
    year: '2023'
  },
  {
    id: 2,
    title: 'Centro Comercial Plaza Norte',
    category: 'comercial',
    description: 'Instalación de pisos vinílicos en área de alto tráfico.',
    image: '/img/projects/commercial-1.jpg',
    location: 'Santiago, Chile',
    year: '2023'
  },
  {
    id: 3,
    title: 'Oficinas Corporativas',
    category: 'corporativo',
    description: 'Renovación de pisos en oficinas ejecutivas.',
    image: '/img/projects/corporate-1.jpg',
    location: 'Santiago, Chile',
    year: '2023'
  },
  {
    id: 4,
    title: 'Casa Moderna',
    category: 'residencial',
    description: 'Instalación de pisos laminados en casa contemporánea.',
    image: '/img/projects/residential-2.jpg',
    location: 'Santiago, Chile',
    year: '2023'
  }
];

const categories = [
  { id: 'todos', name: 'Todos' },
  { id: 'residencial', name: 'Residencial' },
  { id: 'comercial', name: 'Comercial' },
  { id: 'corporativo', name: 'Corporativo' }
];
---

<MainLayout title="Proyectos - RGB Corp" lang="es">
  <div class="projects-page">
    <section class="hero">
      <div class="container">
        <h1>Nuestros Proyectos</h1>
        <p>Descubre cómo transformamos espacios con nuestros revestimientos</p>
      </div>
    </section>

    <section class="projects-content">
      <div class="container">
        <div class="filters">
          {categories.map((category) => (
            <button class="filter-btn" data-category={category.id}>
              {category.name}
            </button>
          ))}
        </div>

        <div class="projects-grid">
          {projects.map((project) => (
            <div class="project-card" data-category={project.category}>
              <div class="project-image">
                <img src={project.image} alt={project.title} />
                <div class="project-overlay">
                  <a href={`/projects/${project.id}`} class="view-project">
                    Ver Proyecto
                  </a>
                </div>
              </div>
              <div class="project-info">
                <h3>{project.title}</h3>
                <p>{project.description}</p>
                <div class="project-meta">
                  <span><i class="fas fa-map-marker-alt"></i> {project.location}</span>
                  <span><i class="fas fa-calendar"></i> {project.year}</span>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <section class="cta-section">
      <div class="container">
        <h2>¿Tienes un proyecto en mente?</h2>
        <p>Contáctanos para una consulta gratuita y presupuesto</p>
        <a href="/contact" class="cta-button">Solicitar Cotización</a>
      </div>
    </section>
  </div>
</MainLayout>

<style>
  .projects-page {
    padding-bottom: var(--spacing-xl);
  }

  .hero {
    background-color: var(--color-primary);
    color: var(--color-secondary);
    padding: var(--spacing-xl) 0;
    text-align: center;
  }

  .hero h1 {
    font-size: 2.5rem;
    margin-bottom: var(--spacing-md);
  }

  .projects-content {
    padding: var(--spacing-xl) 0;
  }

  .filters {
    display: flex;
    justify-content: center;
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-xl);
    flex-wrap: wrap;
  }

  .filter-btn {
    background-color: var(--color-secondary);
    color: var(--color-text);
    border: none;
    padding: var(--spacing-sm) var(--spacing-lg);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .filter-btn:hover,
  .filter-btn.active {
    background-color: var(--color-accent);
    color: var(--color-secondary);
  }

  .projects-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--spacing-lg);
  }

  .project-card {
    background-color: var(--color-secondary);
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease;
  }

  .project-card:hover {
    transform: translateY(-5px);
  }

  .project-image {
    position: relative;
    overflow: hidden;
    aspect-ratio: 16/9;
  }

  .project-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .project-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .project-card:hover .project-overlay {
    opacity: 1;
  }

  .view-project {
    color: var(--color-secondary);
    text-decoration: none;
    padding: var(--spacing-sm) var(--spacing-lg);
    border: 2px solid var(--color-secondary);
    border-radius: 4px;
    transition: all 0.3s ease;
  }

  .view-project:hover {
    background-color: var(--color-secondary);
    color: var(--color-primary);
  }

  .project-info {
    padding: var(--spacing-lg);
  }

  .project-info h3 {
    color: var(--color-primary);
    margin-bottom: var(--spacing-sm);
  }

  .project-info p {
    color: var(--color-text);
    margin-bottom: var(--spacing-md);
  }

  .project-meta {
    display: flex;
    gap: var(--spacing-lg);
    color: var(--color-text-light);
    font-size: 0.9rem;
  }

  .project-meta span {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
  }

  .project-meta i {
    color: var(--color-accent);
  }

  .cta-section {
    background-color: var(--color-primary);
    color: var(--color-secondary);
    padding: var(--spacing-xl) 0;
    text-align: center;
  }

  .cta-section h2 {
    margin-bottom: var(--spacing-md);
  }

  .cta-section p {
    margin-bottom: var(--spacing-lg);
    opacity: 0.9;
  }

  .cta-button {
    display: inline-block;
    background-color: var(--color-accent);
    color: var(--color-secondary);
    padding: var(--spacing-sm) var(--spacing-lg);
    border-radius: 4px;
    text-decoration: none;
    transition: background-color 0.3s ease;
  }

  .cta-button:hover {
    background-color: #cc0000;
  }

  @media (max-width: 768px) {
    .hero h1 {
      font-size: 2rem;
    }

    .projects-grid {
      grid-template-columns: 1fr;
    }

    .filters {
      flex-direction: column;
      align-items: stretch;
    }

    .filter-btn {
      width: 100%;
    }
  }
</style>

<script>
  // Filtrado de proyectos
  const filterButtons = document.querySelectorAll('.filter-btn');
  const projectCards = document.querySelectorAll('.project-card');

  filterButtons.forEach(button => {
    button.addEventListener('click', () => {
      // Remover clase active de todos los botones
      filterButtons.forEach(btn => btn.classList.remove('active'));
      // Agregar clase active al botón clickeado
      button.classList.add('active');

      const category = button.dataset.category;

      projectCards.forEach(card => {
        if (category === 'todos' || card.dataset.category === category) {
          card.style.display = 'block';
        } else {
          card.style.display = 'none';
        }
      });
    });
  });

  // Activar el filtro "Todos" por defecto
  document.querySelector('[data-category="todos"]').click();
</script> 